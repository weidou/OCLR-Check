<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="OCLR-Check : Public website of OCLR-Check">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>OCLR-Check</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/weidou/OCLR-Check">View on GitHub</a>

          <h1 id="project_title">OCLR-Check</h1>
          <h2 id="project_tagline">Public website of OCLR-Check</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/weidou/OCLR-Check/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/weidou/OCLR-Check/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="welcome-to-oclr-check" class="anchor" href="#welcome-to-oclr-check"><span class="octicon octicon-link"></span></a>Welcome to OCLR-Check</h1>

<p>OCLR-Check is a toolset to perform offline checking of <em>OCLR</em> properties on system execution traces. The toolset has been developed by Wei Dou (<a href="http://people.svv.lu/dou">http://people.svv.lu/dou</a>), at the SVV lab (<a href="http://www.svv.lu">http://www.svv.lu</a>) of the University of Luxembourg (<a href="http://wwwen.uni.lu">http://wwwen.uni.lu</a>).
More information on OCLR-Check is available in this technical report:</p>

<blockquote>
<p>Wei Dou, Domenico Bianculli, and Lionel Briand. <strong>A model-based approach to trace checking of temporal properties with OCL</strong>. Technical Report TR-SnT-2014-5, SnT Centre - University of Luxembourg, September 2014.  Available online at <a href="http://hdl.handle.net/10993/16112">http://hdl.handle.net/10993/16112</a></p>
</blockquote>

<p><em>OCLR</em> is a temporal extension of OCL (Object Constraint Language, <a href="http://www.omg.org/spec/OCL">http://www.omg.org/spec/OCL</a>) which allows users to express temporal properties using property specification patterns (<a href="http://patterns.projects.cis.ksu.edu">http://patterns.projects.cis.ksu.edu</a>). <em>OCLR</em> has been introduced in this paper:</p>

<blockquote>
<p>Wei Dou, Domenico Bianculli, and Lionel Briand. <strong>OCLR: a more expressive, pattern-based temporal extension of OCL</strong>. In Proceedings of the 2014 European Conference on Modelling Foundations and Applications (ECMFA 2014), York, United Kingdom, volume 8569 of Lecture Notes in Computer Science, pages 51-66. Springer, July 2014. Available online  at <a href="http://dx.doi.org/10.1007/978-3-319-09195-2_4">http://dx.doi.org/10.1007/978-3-319-09195-2_4</a></p>
</blockquote>

<h2>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>Requirements</h2>

<ul>
<li>Mac OS X / Linux</li>
<li>Xtext framework (<a href="http://xtext.org">http://xtext.org</a>) 2.5.0+</li>
<li>Java 1.6.0_65</li>
<li>Eclipse OCL 4.1.0</li>
</ul><h2>
<a name="content-of-the-distribution" class="anchor" href="#content-of-the-distribution"><span class="octicon octicon-link"></span></a>Content of the distribution</h2>

<p>The OCLR-Check distribution contains two modules:</p>

<h3>
<a name="checker-checker-folder" class="anchor" href="#checker-checker-folder"><span class="octicon octicon-link"></span></a>Checker (<em>checker</em> folder)</h3>

<p>The offline trace checker is comprised of four parts: the OCLR-Check main programs, the models, the DSLs, and the mapping from <em>OCLR</em> to OCL.</p>

<ul>
<li>In the <em>main</em> folder, <em>OfflineCheck.java</em> is the main program for checking <em>OCLR</em> properties. The other Java program <em>ConstraintFactory.java</em> is an auxiliary class for building OCL constraints and/or queries.</li>
<li>The <em>models</em> folder contains three Ecore models: a <em>trace</em> model, an <em>OCLR</em> meta model, and a <em>check</em> model. By using the three models, we generate the corresponding Java code and check the traces with our <em>checker</em> programs.</li>
<li>the <em>DSLs</em> folder contains the Xtext definitions (<em>Trace.xtext</em> and <em>Oclr.xtext</em>) of the trace model and of the <em>OCLR</em> meta model. It also contains the programs for building XMI instances of the two models.</li>
<li>The <em>oclr2ocl</em> folder contains the definition of the translation that maps <em>OCLR</em> constraints into OCL constraints on the trace model.</li>
</ul><h3>
<a name="evaluation" class="anchor" href="#evaluation"><span class="octicon octicon-link"></span></a>Evaluation</h3>

<p>This module contains the artifacts used to perform the evaluation described in the aforementioned technical report:
<em>OCLR</em> properties, traces, and the trace generators used to generate the traces.</p>

<ul>
<li>
<h5>
<a name="properties" class="anchor" href="#properties"><span class="octicon octicon-link"></span></a>Properties</h5>

<p>We provide 38 <em>OCLR</em> properties, both as DSL specifications (under the <em>OCLR-DSL-specifications</em> folder) and as XMI instances (under the <em>OCLR-XMI-instances</em> folder) conforming to the <em>OCLR</em> meta model. These XMI instances are generated from the DSL specifications by using the program: "/checker/DSLs/OCLRInstanceFactory.java".</p>
</li>
<li>
<h5>
<a name="traces" class="anchor" href="#traces"><span class="octicon octicon-link"></span></a>Traces</h5>

<p>For each property to check, we provide several traces both in CSV (for public use, under the <em>CSV</em> foler) and XMI formats (under the <em>XMI</em> folder). The XMI traces are generated by the trace generators introduced below, and the CSV traces are transformed from the XMI ones. For the reason of maximum file size limit in GitHub, we zip up the XMI files and group them by property scopes: <code>globally</code> (p1-p12), <code>before</code> (p13-p20), <code>after</code> (p21-p31), <code>between-and</code> (p32-38).</p>
</li>
<li>
<h5>
<a name="trace-generators" class="anchor" href="#trace-generators"><span class="octicon octicon-link"></span></a>Trace Generators</h5>

<p>Traces generator programs implement various generation strategies, depending on the type of property that one wants to check on the trace being generated.
Generators are Python programs named after the type of property for which they generate traces;  e.g., <em>trace_generator_globally.py</em> is the trace generator to generate the trace for the properties with the <code>globally</code> scope.
A trace generator needs 4 parameters: 1). scope (<code>--scope/-s SCOPE</code>). 2). pattern (<code>--pattern/-p PATTERN</code>). 3). property id (<code>--id/-i ID</code>). 4). (maximum) trace length (<code>--length/-l LENGTH</code>). For instance:
<code>./trace_generator_globally.py -s 'globally' -p  'always a' -i p1 -l 1000000</code>
corresponds to generating traces with various trace lengths - 100K, 200K, ..., 1M (determined by the given maximum trace length) for the property <code>p1</code> which has the scope <code>globally</code> and the pattern <code>always a</code>.
We also provide the shell scripts used to generate the traces for the 38 properties contained in the distribution.</p>
</li>
</ul><h1>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h1>

<p>Please follow the steps below to set up the environment for the trace checker.</p>

<ol>
<li>
<p>Create a new Java Project named "lu.svv.offline" and click <strong>Finish</strong> (Please use this name, otherwise, you have to modify the codes).</p>

<p><img src="http://i58.tinypic.com/2ilzbir.jpg" alt="screenshot1"></p>
</li>
<li>
<p>Copy the folder "/check/models/" (in this repository) to the Java project.</p>

<p><img src="http://i60.tinypic.com/2s7uzh4.jpg" alt="screenshot2"></p>
</li>
<li>
<p>Choose the file "check.ecore" in Eclipse and then create an <strong>EMF Generator Model</strong> named "check.genmodel" by following the steps below.</p>

<p><img src="http://i59.tinypic.com/2pqt8wo.jpg" alt="screenshot3"></p>

<p><img src="http://i60.tinypic.com/fjfbqx.jpg" alt="screenshot4"></p>

<p>Choose <strong>Ecore model</strong> and click <strong>Next</strong>.</p>

<p><img src="http://i62.tinypic.com/zv75hw.jpg" alt="screenshot5"></p>

<p>Load the model "check.ecore" and click <strong>Next</strong>.</p>

<p><img src="http://i59.tinypic.com/2py6ki0.jpg" alt="screenshot6"></p>

<p>Click <strong>Select All</strong> at the upper right and click <strong>Finish</strong>.</p>

<p><img src="http://i61.tinypic.com/2hqb612.jpg" alt="screenshot7"></p>
</li>
<li>
<p>Open "check.genmodel" with the <strong>EMF Generator</strong>, choose the second "Check", and make the following changes.</p>

<p><img src="http://i59.tinypic.com/120grpv.jpg" alt="screenshot8"></p>

<p>Open the <strong>Properties</strong> view from the Menu (<strong>Window &gt; Show View &gt; Properties</strong>) and fill the <strong>Base Package</strong> with "lu.svv.offline".</p>

<p><img src="http://i57.tinypic.com/x1avdy.jpg" alt="screenshot9"></p>

<p>Choose "Trace" in "check.genmodel" and fill the <strong>Base Package</strong> with "lu.svv.offline".</p>

<p><img src="http://i58.tinypic.com/2dkmnir.jpg" alt="screenshot10"></p>

<p>Choose "Oclr" in "check.genmodel" and fill the <strong>Base Package</strong> with "lu.svv.offline".</p>

<p><img src="http://i59.tinypic.com/2iw97hh.jpg" alt="screenshot11"></p>
</li>
<li>
<p>Choose the first "Check" and right-click on it. Choose <strong>Generate Model Code</strong> from the pop-up menu.</p>

<p><img src="http://i61.tinypic.com/2v169gx.jpg" alt="screenshot12"></p>
</li>
<li>
<p>Once generating the model code, copy the two files under "/checker/main/" (in this repository) to the Eclipse package "/src/lu.svv.offline.check/".</p>

<p><img src="http://i60.tinypic.com/fwojux.jpg" alt="screenshot13"></p>

<p>If you find errors about missing packages in the Java files, open the files, click on the errors and choose the last option <strong>Fix project setup...</strong>. The missing packages will be added into the <strong>Plug-in Dependencies</strong>.</p>

<p><img src="http://i59.tinypic.com/10ege2f.jpg" alt="screenshot14"></p>
</li>
<li>
<p>Create a new folder named "lib" in the project and copy the file "/checker/oclr2ocl/oclr.ocl" (in this repository) to the new folder "lib".</p>

<p><img src="http://i62.tinypic.com/14y0jg1.jpg" alt="screenshot15"></p>

<p>You may get errors if you open "oclr.ocl" with the <strong>CompletOCL Editor</strong>. The OCL codes are correct. It is just because the editor cannot identify the models elements in the code. (If you uncomment the three lines at the top of the file, errors will disappear. But please comment these three lines, otherwise the checker programs will not work).</p>

<p><img src="http://i58.tinypic.com/28co9lg.jpg" alt="screenshot16"></p>
</li>
<li>
<p>Create a new folder named "instances" in the project and copy the properties you'd like to test under the folder "/evaluation/properties/OCLR-XMI-instances" (in this repository) and the corresponding traces under the folder "/evaluation/traces/XMI/" (You need to unzip the files to get traces).</p>

<p><img src="http://i61.tinypic.com/6f147q.jpg" alt="screenshot17"></p>
</li>
<li>
<p>You will see the project like this (The error of the project is from the ocl file. Please ignore it):</p>

<p><img src="http://i59.tinypic.com/246m4v7.jpg" alt="screenshot18"></p>
</li>
<li><p>Please invoke the test methods in the <em>main</em> method of "OfflineCheck.java". The usage of the methods are embedded in the code comments.</p></li>
</ol>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">OCLR-Check maintained by <a href="https://github.com/weidou">weidou</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-54392714-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
